
# Домашнее задание к занятию "5.3. Введение. Экосистема. Архитектура. Жизненный цикл Docker контейнера"

## Как сдавать задания

Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.

Задачи со звездочкой (*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.

Домашнее задание выполните в файле readme.md в github репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

## Задача 1

Сценарий выполения задачи:

- создайте свой репозиторий на https://hub.docker.com;
- выберете любой образ, который содержит веб-сервер Nginx;
- создайте свой fork образа;
- реализуйте функциональность:
запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:
```
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>
```
Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.

Ответ:

https://hub.docker.com/repository/docker/anclave777/test_nginx

***
root@vagrant:/home/vagrant# docker ps
CONTAINER ID   IMAGE                          COMMAND                  CREATED         STATUS         PORTS                                        NAMES
dffc8ab78207   anclave777/test_nginx:latest   "/docker-entrypoint.…"   5 seconds ago   Up 4 seconds   0.0.0.0:80->80/tcp, :::80->80/tcp, 443/tcp   silly_dhawan
***

![image](https://user-images.githubusercontent.com/44027303/151188310-fbcd8f44-5672-4d01-94f1-305458046e8a.png)


## Задача 2

Посмотрите на сценарий ниже и ответьте на вопрос:
"Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

--

Сценарий:

- Высоконагруженное монолитное java веб-приложение;
- Nodejs веб-приложение;
- Мобильное приложение c версиями для Android и iOS;
- Шина данных на базе Apache Kafka;
- Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;
- Мониторинг-стек на базе Prometheus и Grafana;
- MongoDB, как основное хранилище данных для java-приложения;
- Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.

Ответ:

# Высоконагруженное монолитное java веб-приложение;

Нужна либо виртуальная машина либо физический сервер, чтобы распределить приложению ресурсы: память, процессор итд.

# Nodejs веб-приложение;

Подойдет Docker, если приложение небольшое, если объемное то оно масштабируется в ресурсы системы, тогда как и в случае java веб-приложения подойдет ВМ или Физическая машина.

# Мобильное приложение c версиями для Android и iOS;

Докер. Вероятно будут различия в версионности + для мобильных приложений важна легковестность

# Шина данных на базе Apache Kafka;

Докер, так как шина данных являются частью распределенного приложения Kafka.

# Elasticsearch кластер для реализации логирования продуктивного веб-приложения
 
Все зависит от масштабов кластера, если он будет обрабатывать терабайты трафика, то нужно использовать несколько  физических серверов, если данных не много подойдет ВМ.

# три ноды elasticsearch, два logstash и две ноды kibana;

Исходя из постановки вопроса очевидно докер :)

# Мониторинг-стек на базе Prometheus и Grafana;

Если объемы данных боевые, то ВМ. Если песочница контейней докер.


# MongoDB, как основное хранилище данных для java-приложения;

Физический сервер либо виртуальная машина. Придется хранить много данных, база требует ресурсов.

# Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.
 
 Физический сервер, потому что должно быть безопасно и производительно.

## Задача 3

- Запустите первый контейнер из образа ***centos*** c любым тэгом в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
- Запустите второй контейнер из образа ***debian*** в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
- Подключитесь к первому контейнеру с помощью ```docker exec``` и создайте текстовый файл любого содержания в ```/data```;
- Добавьте еще один файл в папку ```/data``` на хостовой машине;
- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в ```/data``` контейнера.

## Задача 4 (*)

Воспроизвести практическую часть лекции самостоятельно.

Соберите Docker образ с Ansible, загрузите на Docker Hub и пришлите ссылку вместе с остальными ответами к задачам.


---

### Как cдавать задание

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---
